#define ENC28J60_SPI spi1
#define SPIDEV_NUM 0
#include "enc28j60.dtsi"

/ {
	metadata {
		title = "Enable ENC28J60 on SPI1";
		compatible = "radxa,rock-2a", "radxa,rock-2f", "radxa,medge-rk3528a-io";
		category = "misc";
		exclusive = "GPIO1_B4", "GPIO1_B6", "GPIO1_B7", "GPIO1_C0", "GPIO4_B6";
		description = "Enable Microchip ENC28J60 SPI Ethernet controller on SPI1.
INT=36";
	};
};

&pinctrl {
	enc28j60 {
		enc28j60_int_pins: enc28j60-int-pins {
			rockchip,pins = <1 RK_PB4 RK_FUNC_GPIO &pcfg_pull_none>;
		};
	};
};

&ENC28J60_SPI {
	cs-gpios = <&gpio4 RK_PB6 GPIO_ACTIVE_LOW>;
	pinctrl-0 = <&spi1_pins>;
};

&ethernet {
	pinctrl-names = "default";
	pinctrl-0 = <&enc28j60_int_pins>;
	interrupt-parent = <&gpio1>;
	interrupts = <RK_PB4 IRQ_TYPE_EDGE_FALLING>;
};
